---
# front matter tells Jekyll to process Liquid
---
<!DOCTYPE html>
<html lang="en">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta charset="utf-8" />
	<title>Warm space finder | Open Innovations</title>
	<link rel="stylesheet" href="assets/style.css">
	<link rel="icon" href="https://open-innovations.org/resources/images/logos/oi-square-13.svg" />
	<meta name="twitter:card" content="summary">
	<meta name="twitter:site" content="@OpenInnovates">
	<meta name="twitter:url" property="og:url" content="https://warm.open-innovations.org/find">
	<meta name="twitter:title" property="og:title" content="Warm space finder">
	<meta name="twitter:description" property="og:description" content="Get a simple list of warm spaces near you.">
	<meta name="description" content="Search through {% include_relative data/nspaces.txt %} warm spaces from {% include_relative data/ndirs.txt %} directories.">
	<meta name="twitter:image" property="og:image" content="https://open-innovations.org/resources/images/logos/oi-square-13.png">
	<meta name="keywords" content="warm,spaces,space,offers,cost-of-living,heat,find,search">
	<style>
	.fire {
		background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='orange' viewBox='0 0 16 16'%3E%3Cpath d='M8 16c3.314 0 6-2 6-5.5 0-1.5-.5-4-2.5-6 .25 1.5-1.25 2-1.25 2C11 4 9 .5 6 0c.357 2 .5 4-2 6-1.25 1-2 2.729-2 4.5C2 14 4.686 16 8 16Zm0-1c-1.657 0-3-1-3-2.75 0-.75.25-2 1.25-3C6.125 10 7 10.5 7 10.5c-.375-1.25.5-3.25 2-3.5-.179 1-.25 2 1 3 .625.5 1 1.364 1 2.25C11 14 9.657 15 8 15Z'/%3E%3C/svg%3E");
		background-position: top center;
		background-repeat: no-repeat;
		background-size: 240px;
		min-height: 240px;
	}
	</style>
</head>
<body class="b1-bg">


	<div class="b6-bg">
		<header>
			<div class="b1-bg">
				<div class="holder padded" style="text-align:center;">
					<a href="https://open-innovations.org/"><svg width="80" height="80" overflow="auto" viewbox="-32 -32 64 64" xmlns="http://www.w3.org/2000/svg"><mask id="oi-person"><path d="m-32-32h64v64h-12v-24a4 4 0 0 0 -4 -4h-8a4 4 0 0 0 -4 4v24h-36zm44 27m-8 0a8 8 0 1 0 16 0 8 8 0 1 0-16 0" fill="#fff"></path></mask><g id="oi-logo" fill="#FF6700"><circle r="32" mask="url(#oi-person)"></circle></g></svg></a>
					<div class="title">Warm space finder</div>
				</div>
				<div class="holder">
					<nav>
					<ul>
						<li><a href="/">Home</a></li>
						<li><a href="/find" class="b6-bg">Find</a></li>
						<li><a href="/map">Map</a></li>
						<li><a href="/directories">Directories</a></li>
					</ul>
					</nav>
				</div>
			</div>
		</header>
	</div>

	<div class="b6-bg">
		<div class="holder padded tallpadded">
			<div id="output">
				<div id="place-search">
					Find a warm space
					<form><label for="typeahead">by place:</label><input id="typeahead" type="text" placeholder="e.g. Leeds" autocomplete="off"></form>
					<div> or <button class="c13-bg" id="find">near my location</button></div>
				</div>
				<div><span class="jekyll-parse">Search {% include_relative data/nspaces.txt %}</span> warm spaces from <span class="jekyll-parse">{% include_relative data/ndirs.txt %}</span> different directories (last checked <span class="jekyll-parse">{% include_relative data/lastupdated.txt %}</span>)</div>
				<div id="key-holder">
					<ul id="key"><li class="c14-bg keyitem"><label for="key-opening-soon"><input type="checkbox" id="key-opening-soon" checked="checked" data="opening-soon" /> opening soon</label></li><li class="c13-bg keyitem"><label for="key-open"><input type="checkbox" id="key-open" checked="checked" data="open" /> open</label></li><li class="c12-bg keyitem"><label for="key-closing-soon"><input type="checkbox" id="key-closing-soon" checked="checked" data="closing-soon" /> closing soon</label></li><li class="b4-bg keyitem"><label for="key-closed"><input type="checkbox" id="key-closed" checked="checked" data="closed" /> closed</label></li><li class="b5-bg keyitem"><label for="key-unknown"><input type="checkbox" id="key-unknown" checked="checked" data="unknown" /> unknown</label></li></ul>
				</div>
				<ul class="list grid fire"></ul>
			</div>
		</div>
	</div>
	<div class="b5-bg">
		<div class="holder padded tallpadded">
			<h2>About</h2>
			<p>During the winter of 2022-3, the cost-of-living crisis in the UK meant that more-and-more people were struggling to stay warm. Many different groups - from voluntary groups to local councils - started collating different <a href="directories">directories of warm spaces</a>. This duplicated work and meant that each directory only contained a subset of all warm spaces. So we developed this as a lower bandwidth tool that searches through multiple warm spaces directories. We have kept it up-to-date each winter since.</p>
			<p><a href="about">Read more about this project...</a></p>

		</div>
	</div>
	<footer class="b1-bg">
		<div class="holder padded tallpadded">

			<h2>Credits</h2>
			<p>Created by Stuart Lowe (<a href="https://open-innovations.org/">Open Innovations</a>) 2022-23.</p>
			<p>The results come from <span class="jekyll-parse">{% include_relative data/ndirs.txt %}</span> <a href="index.html">directories of warm spaces</a>; each result links back to the specific source directory that it came from. The original data has been contributed by individuals/organisations to those directories. This search tool is updated daily from the source directories. We have <a href="https://odileeds.github.io/Postcodes2LatLon/">derived locations from postcodes</a> for <span class="jekyll-parse">{% include_relative data/ngeocoded.txt %}</span> warm spaces using the <a href="http://geoportal.statistics.gov.uk/items/national-statistics-postcode-lookup-august-2018">ONS postcode lookup</a> which is derived from Code-Point® Open and <a href="https://www.ons.gov.uk/methodology/geography/licences">released under the Open Government Licence</a>.</p>
			<p>The place name search uses a subset of processed data from <a href="https://www.ordnancesurvey.co.uk/business-government/products/open-map-names">Ordnance Survey's Open Names</a> released under the <a href="http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/">Open Government Licence</a> and is &copy; Crown copyright and database right 2021 / Royal Mail data &copy; Royal Mail copyright and database right 2021 / National Statistics data &copy; Crown copyright and database right 2021.</p>
			
			<hr class="about" />
			<ul class="elsewhere">
				<li class="rss"><a href="https://open-innovations.org/blog/rss"><svg width="48" height="48" viewBox="0 0 512 512" aria-labelledby="icon-rss"><title id="icon-rss">RSS</title><path fill="currentColor" d="m109 271A132 133 0 01241 403h60A192 193 0 00109 211v-54A246 247 0 01355 403h60A306 307 0 00109 97m35 235a35 35 0 102 0"></path></svg></a></li>
				<li class="github"><a href="https://github.com/open-innovations" title="Github"><svg width="48" height="48" viewBox="83 -108.9 64 64" aria-label="Github" role="img"><path fill="currentColor" d="m 114.97,-100.9 c -13.24,0 -23.97,11.015 -23.97,24.606 0,10.874 6.867,20.096 16.4,23.349 1.19,0.225 1.63,-0.534 1.63,-1.183 0,-0.588 0,-2.527 0,-4.583 -6.66,1.487 -8.07,-2.901 -8.07,-2.901 -1.095,-2.842 -2.665,-3.598 -2.665,-3.598 -2.178,-1.527 0.166,-1.496 0.166,-1.496 2.409,0.17 3.669,2.534 3.669,2.534 2.14,3.762 5.62,2.674 6.98,2.044 0.22,-1.587 0.84,-2.674 1.52,-3.286 -5.32,-0.623 -10.917,-2.735 -10.917,-12.163 0,-2.689 0.937,-4.883 2.467,-6.605 -0.25,-0.625 -1.07,-3.128 0.24,-6.516 0,0 2,-0.661 6.59,2.524 1.9,-0.548 3.96,-0.819 5.99,-0.828 2.04,0 4.1,0.282 6,0.831 4.58,-3.188 6.58,-2.524 6.58,-2.524 1.31,3.391 0.49,5.891 0.24,6.513 1.55,1.722 2.47,3.916 2.47,6.605 0,9.452 -5.6,11.534 -10.94,12.145 0.86,0.762 1.62,2.258 1.62,4.554 0,3.288 0,5.94 0,6.751 0,0.655 0.44,1.422 1.65,1.182 9.52,-3.259 16.38,-12.481 16.38,-23.349 0,-13.591 -10.73,-24.606 -23.97,-24.606 z"></path></svg></a></li>
				<li class="bluesky"><a href="https://bsky.app/profile/open-innovations.bsky.social"><svg width="48" height="48" viewBox="0 0 512 512" aria-labelledby="icon-bluesky"><title id="icon-bluesky">Bluesky</title><path fill="currentColor" d="M159 126c-28-22-74-38-74 14 0 11 6 88 9 101 13 43 57 54 97 48-69 11-87 50-49 89 72 75 104-18 112-42l2-5 2 5c8 24 40 117 112 42 38-39 20-78-49-89 40 6 84-5 97-48 3-13 9-90 9-101 0-52-46-36-74-14-39 29-82 89-97 121-15-32-58-92-97-121Z"></path></svg></a></li>
				<li class="facebook"><a href="https://www.facebook.com/ODILeedsCityRegion" title="Facebook"><svg width="48" height="48" viewBox="83 -108.9 64 64" aria-label="Facebook" role="img"><path fill="currentColor" d="m 109.91,-52.9 0,-21.894 -7.37,0 0,-8.533 7.37,0 0,-6.297 c 0,-7.305 4.45,-11.276 10.97,-11.276 3.12,0 5.81,0.24 6.58,0.33 l 0,7.634 -4.52,0 c -3.53,0 -4.23,1.689 -4.23,4.145 l 0,5.442 8.44,0 -1.1,8.533 -7.34,0 0,21.894 -8.8,0.02 z"></path></svg></a></li>
				<li class="youtube"><a href="https://www.youtube.com/@open_innovations" title="YouTube"><svg xmlns="http://www.w3.org/2000/svg" aria-label="YouTube" role="img" viewBox="0 0 512 512" width="48" height="48"><path fill="currentColor" d="m427,169c-4-15-17-27-32-31-34-9-239-10-278,0-15,4-28,16-32,31-9,38-10,135 0,174 4,15 17,27 32,31 36,10 241,10 278,0 15-4 28-16 32-31 9-36 9-137 0-174zm-207,140v-106l93,53z"></path></svg></a></li>
			</ul>
			<p>Thanks to our sponsors, <a href="https://open-innovations.org/services/sponsors/">they help fund us to deliver and collaborate</a>.</p>
			<div class="address">
				<a href="https://open-innovations.org/location/">Open Innovations, 3rd Floor, Munro House, Duke Street, Leeds LS9 8AG</a>				| <a href="https://find-and-update.company-information.service.gov.uk/company/09417733">09417733</a>
				<br><a href="https://open-innovations.org/contact/">Contact us</a> | <a href="https://open-innovations.org/terms">Terms of use</a> | <a href="https://open-innovations.org/privacy">Privacy policy</a> | <a href="https://open-innovations.org/cookies">Cookie policy</a>
				<br><a href="http://creativecommons.org/licenses/by/4.0/">© CC BY 4.0 Open Innovations 2022</a>
			</div>
		</div>
	</footer>

	<script src="assets/warmspaces.js"></script>
	<script>
	var finder;
	OI.ready(function(){
		finder = OI.WarmSpacesFinder({
			'el': document.getElementById('output'),
			'sources': 'data/sources.json',
			'tiles': {
				'url': 'data/tiles/{z}/{x}/{y}.geojson',
				'zoomLevels': [10],
				'limits': {'N':58.6350001085,'S':49.959999905,'E':1.68153079591,'W':-7.57216793459},
			}
		});
	});
	</script>
	<style>
	#place-search > * { display: inline-block; line-height: 3em; }
	.typeahead { line-height: 2.5em; }
	#typeahead { height: 2.5em; font-size: inherit; margin-left: 0.25em; margin-right: 0.25em; }
	#find { line-height: 1.5em; margin-left: 0.25em; border-radius:4px; }
	.typeahead-results { z-index: 1000; max-width: unset!important; }
	.typeahead-results ol { list-style: none; background: #efefef; line-height: 1.25em; }
	.typeahead-results ol > li { text-align: left; white-space: nowrap; }
	.typeahead-results ol > li.selected { background: #444; color: white; }
	.typeahead-results ol > li > a { display: block; padding: 0.5em 0.5em; text-decoration: none; }
	</style>
	<script>
	/*!
		Typeahead search v0.1.8
	*/
	!function(e){void 0===e.TypeAhead&&(e.TypeAhead=new function(){return this.version="0.1.8",this.init=function(e,t){return new function(e,t){if(t||(t={}),"string"==typeof e&&(e=document.querySelector(e)),!e)return console.warn("No valid element provided"),this;var n,o,i=this,a={},r=t.items||[],s="boolean"==typeof t.inline&&t.inline;function l(){return n?n.querySelectorAll("li"):[]}function f(o){o&&(i.input=e,"function"==typeof t.process?t.process.call(i,r[o]):console.log(r[o])),n&&(n.innerHTML=""),s&&(e.style.marginBottom="0px")}function c(){for(var e=l(),t=0;t<e.length;t++)if(e[t].classList.contains("selected"))return f(e[t].getAttribute("data-id"))}return this.update=function(){var t=document.createEvent("HTMLEvents");return t.initEvent("keyup",!1,!0),e.dispatchEvent(t),this},this.on=function(u,d,p){return e?("change"==u?(a[u]||(a[u]=[],e.addEventListener("keyup",function(d){d.preventDefault(),d.stopPropagation(),40==d.keyCode||38==d.keyCode?function(e){for(var t,n=l(),o=-1,i=0;i<n.length;i++)n[i].classList.contains("selected")&&(o=i);t=o,40==e?o++:o--,o<0&&(o=n.length-1),o>=n.length&&(o=0),t>=0&&n[t].classList.remove("selected"),n[o].classList.add("selected")}(d.keyCode):13==d.keyCode?c():(function(c,u,d){var p,h,y,v,g,m,k;if(v=c.toUpperCase(),y=[],v){for(h=0;h<r.length;h++)m={rank:0,key:h,value:r[h]},"function"==typeof t.rank?m.rank=t.rank(r[h],c):(0==r[h].toUpperCase().indexOf(v)&&(m.rank+=3),r[h].toUpperCase().indexOf(v)>0&&(m.rank+=1)),y.push(m);y=function(e,t){return e.sort(function(e,n){return e[t]<n[t]?1:-1})}(y,"rank")}if(n||(e.parentElement.style.position="relative",(n=document.createElement("div")).classList.add("typeahead-results"),n.style.top=e.offsetTop+e.offsetHeight+"px",n.style.left=e.offsetLeft+"px",n.style.maxWidth=e.parentElement.offsetWidth-e.offsetLeft-parseInt(window.getComputedStyle(e.parentElement,null).getPropertyValue("padding-right"))+"px",n.style.position="absolute",o.style.position="relative",e.insertAdjacentElement("afterend",n)),g="",y.length>0){for(p="number"==typeof t.max?Math.min(y.length,t.max):y.length,g="<ol>",h=0;h<p;h++)y[h].rank>0&&(g+='<li data-id="'+y[h].key+'" '+(0==h?' class="selected"':"")+'><a tabindex="0" href="#" class="name item">'+("function"==typeof t.render?t.render(r[y[h].key]):r[y[h].key])+"</a></li>");g+="</ol>"}n.innerHTML=g,s&&(e.style.marginBottom=n.offsetHeight+"px");var b=l();for(h=0;h<b.length;h++)b[h].addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),f(this.getAttribute("data-id"))});if(a[d])for(u._typeahead=i,h=0;h<a[d].length;h++)k=a[d][h],u.data=k.data||{},"function"==typeof k.fn&&k.fn.call(k.data.this||this,u)}(this.value,d,u),"function"==typeof t.endsearch&&t.endsearch(this.value))}),e.addEventListener("blur",function(e){"function"==typeof t.blur&&t.blur()})),a[u].push({fn:p,data:d})):"blur"==u?console.log("blur"):console.warn("No event of type "+u),this):(console.warn("Unable to attach event "+u),this)},this.off=function(e,t){if(a[e])for(var n=0;n<a[e].length;n++)a[e][n].fn==t&&a[e].splice(n,1)},e.form&&(o=e.form).addEventListener("submit",function(e){e.preventDefault(),e.stopPropagation(),c()},!1),e&&e.setAttribute("autocomplete","off"),this.addItems=function(e){r||(r=[]),r=r.concat(e)},this.clearItems=function(){r=[]},this.on("change",{},function(e){}),this}(e,t)},this})}(window||this);

	var inp = document.getElementById('typeahead');
	if(inp){
		document.getElementById('place-search').addEventListener('submit',function(e){ e.preventDefault(); e.stopPropagation(); });
		// Build the main search for places
		this.typeahead = TypeAhead.init(inp,{
			'items': [],
			'max': 8,	// Set a maximum number to list
			'render': function(d){
				// Construct the label shown in the drop down list
				return d.displayname;
			},
			'process': function(city){
				finder.setLocation(city.lat,city.lon);
			},
			'rank': function(d,str){
				// Calculate the weight to add to this airport
				var r = 0;
				var words,w;
				if(d){
					words = str.split(/[\s\,]/);
					if(typeof d.displayname==="string") r += getScore(d.displayname,str);
					if(typeof d.truename==="string") r += getScore(d.truename,str);
					for(w = 0; w < words.length; w++){
						if(words[w]){
							if(typeof d.displayname==="string") r += getScore(d.displayname,words[w]);
							if(typeof d.truename==="string") r += getScore(d.truename,words[w]);
						}
					}
					if(d.type=="c") r *= 5;
					if(d.type=="t") r *= 4;
					if(d.type=="o") r *= 3;
					if(d.type=="a") r *= 2;
					if(d.type=="v") r *= 2;
					//r *= d.population;
				}
				return r;
			}
		});

		inp.addEventListener('focus',function(e){
			e.currentTarget.value = "";
		});

		// Define a function for scoring how well a string matches
		function getScore(str1,str2,v1,v2,v3){
			var r = 0;
			str1 = str1.toUpperCase();
			str2 = str2.toUpperCase();
			if(str1.indexOf(str2)==0) r += (v1||3);
			if(str1.indexOf(str2)>0) r += (v2||1);
			if(str1==str2) r += (v3||4);
			return r;
		}
		var loading = {};
		// Attach a callback to the 'change' event. This gets called each time the user enters/deletes a character.
		this.typeahead.on('change',{'me':this.typeahead},function(e){
			var name = e.target.value.toLowerCase();
			var fl = name[0];
			if(fl && fl.match(/[a-zA-Z\'\`]/i)){
				if(!loading[fl]){
					var file = 'data/geo/ranked-'+fl+'.tsv';
					var _obj = e.data.me;

					fetch(file,{})
					.then(response => { return response.text(); })
					.then(d => {
						
						var data,l,c,header,cols,datum;
						d = d.replace(/\r/g,'').split(/[\n]/);
						data = new Array(d.length);
						header = ["truename","admin1","type","lat","lon"];
						for(l = 0; l < d.length; l++){
							cols = d[l].split(/\t/);
							datum = {};
							for(c = 0; c < cols.length; c++){
								datum[header[c]] = cols[c].replace(/(^\"|\"$)/g,"");
								// Convert numbers
								if(parseFloat(datum[header[c]])+"" == datum[header[c]]) datum[header[c]] = parseFloat(datum[header[c]]);
								datum.i = l;
								datum.displayname = datum.truename+(datum.admin1 ? ', '+datum.admin1+'':'');
							}
							data[l] = datum;
						}
						_obj.addItems(data);
					}).catch(error => {
						_obj.message('Unable to load file '+file,{'type':'ERROR','extra':{}});
					});
					loading[fl] = true;
				}
			}
		});
	}


	function loadBlock(i,block){
		let html = block.innerHTML;
		let file = "";
		html = html.replace(/\{\% include_relative (.*\.[a-zA-Z]*) \%\}/g,function(m,p1){
			file = p1;
			return "<div id=\"jekyll-"+i+"\"></div>";
		});
		block.innerHTML = html;
		if(file){
			fetch(file,{'i':i})
			.then(response => { return response.text(); })
			.then(text => {
				document.getElementById('jekyll-'+i).outerHTML = text;
			}).catch(error => {
				console.error('No file at '+file);
			});
		}
	}
	var blocks = document.getElementsByClassName('jekyll-parse');
	for(var i = 0; i < blocks.length; i++) loadBlock(i,blocks[i]);
	</script>

	<script src="https://open-innovations.org/resources/oi.log.js"></script>
	<script>
	OI.log.setup({'id':'odileeds','target':['open-innovations.github.io','warm.open-innovations.org']}).add('action=view');
	</script>

</body></html>